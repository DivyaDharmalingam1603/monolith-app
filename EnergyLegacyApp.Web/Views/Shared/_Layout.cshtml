<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>@ViewData["Title"] - Energy Management System</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>

        :root {

            --primary-color: #2563eb;

            --secondary-color: #64748b;

            --success-color: #059669;

            --warning-color: #d97706;

            --danger-color: #dc2626;

            --info-color: #0891b2;

            --light-bg: #f8fafc;

            --card-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);

        }

        body { font-family: 'Inter', sans-serif; background-color: var(--light-bg); }

        .navbar { background: linear-gradient(135deg, var(--primary-color) 0%, #1e40af 100%); }

        .card { border: none; box-shadow: var(--card-shadow); border-radius: 12px; }

        .metric-card { transition: transform 0.2s; }

        .metric-card:hover { transform: translateY(-2px); }

        .sidebar { background: white; min-height: calc(100vh - 76px); box-shadow: var(--card-shadow); }

        .main-content { background: var(--light-bg); min-height: calc(100vh - 76px); }
</style>
</head>
<body>
<!-- Top Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark fixed-top">
<div class="container-fluid px-4">
<a class="navbar-brand fw-bold d-flex align-items-center" href="/">
<i class="fas fa-bolt me-2 text-warning fs-4"></i>
<span class="fs-5">Energy Hub</span>
</a>
<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
<span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse" id="navbarNav">
<ul class="navbar-nav ms-auto">
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle d-flex align-items-center" href="#" role="button" data-bs-toggle="dropdown">
<span class="user-name">@User.Identity.Name</span>
</a>
<ul class="dropdown-menu dropdown-menu-end">
<li><a class="dropdown-item" href="#"><i class="fas fa-cog me-2"></i>Settings</a></li>
<li><hr class="dropdown-divider"></li>
<li>
<a class="dropdown-item text-danger" asp-controller="Auth" asp-action="Logout">
<i class="fas fa-sign-out-alt me-2"></i>Logout
</a>
</li>
</ul>
</li>
</ul>
</div>
</div>
</nav>
 
    <!-- Main Layout -->
<div class="container-fluid" style="margin-top: 76px;">
<div class="row">
<!-- Sidebar -->
<div class="col-md-3 col-lg-2 px-0">
<div class="sidebar p-3">
<ul class="nav nav-pills flex-column">
<li class="nav-item mb-2">
<a class="nav-link d-flex align-items-center" asp-controller="Home" asp-action="Index">
<i class="fas fa-chart-line me-3 text-primary"></i>Dashboard
</a>
</li>
<li class="nav-item mb-2">
<a class="nav-link d-flex align-items-center" asp-controller="PowerPlant" asp-action="Index">
<i class="fas fa-industry me-3 text-info"></i>Power Plants
</a>
</li>
<li class="nav-item mb-2">
<a class="nav-link d-flex align-items-center" asp-controller="PowerPlant" asp-action="Create">
<i class="fas fa-plus-circle me-3 text-success"></i>Add Plant
</a>
</li>
<li class="nav-item mb-2">
<a class="nav-link d-flex align-items-center" asp-controller="Analytics" asp-action="Index">
<i class="fas fa-chart-bar me-3 text-warning"></i>Analytics
</a>
</li>
<li class="nav-item mb-2">
<a class="nav-link d-flex align-items-center" asp-controller="Maintenance" asp-action="Index">
<i class="fas fa-tools me-3 text-secondary"></i>Maintenance
</a>
</li>
</ul>
</div>
</div>
 
            <!-- Main Content -->
<div class="col-md-9 col-lg-10 px-0">
<div class="main-content p-4">

                    @if (TempData["Success"] != null)

                    {
<div class="alert alert-success alert-dismissible fade show mb-4" role="alert">
<i class="fas fa-check-circle me-2"></i>@TempData["Success"]
<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
</div>

                    }

                    @if (TempData["Error"] != null)

                    {
<div class="alert alert-danger alert-dismissible fade show mb-4" role="alert">
<i class="fas fa-exclamation-triangle me-2"></i>@TempData["Error"]
<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
</div>

                    }

                    @RenderBody()
</div>
</div>
</div>
</div>
 
    <!-- Footer -->
<footer class="bg-white border-top mt-auto py-3">
<div class="container-fluid px-4">
<div class="row align-items-center">
<div class="col-md-6">
<small class="text-muted">&copy; 2025 Energy Management System</small>
</div>
<div class="col-md-6 text-end">
<small class="text-muted">Powered by AWS</small>
</div>
</div>
</div>
</footer>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>

        // Set active navigation state

        document.addEventListener('DOMContentLoaded', function() {

            const currentPath = window.location.pathname.toLowerCase();

            const navLinks = document.querySelectorAll('.sidebar .nav-link');

            navLinks.forEach(link => {

                const href = link.getAttribute('href');

                if (href && (currentPath === href.toLowerCase() || 

                    (currentPath.includes('powerplant') && href.toLowerCase().includes('powerplant')) ||

                    (currentPath === '/' && href === '/'))) {

                    link.classList.add('active');

                }

            });

        });
</script>

    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>